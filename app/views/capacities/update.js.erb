<% if @capacity.errors.any? %>
	$('#edit_capacity_errors_<%=@capacity.id%>').html( "<%= escape_javascript(render 'global/error_messages', :target => @capacity) %>" );
	<%= render 'global/ajax_form_errors', :target => @capacity, :form_id => "edit_capacity_form_#{@capacity.id}" %>
<% else %>
	$('#edit_capacity_<%=@capacity.id%>').slideToggle(800, function() { 
		$('#capacity_<%=@capacity.id%>').replaceWith( "<%= escape_javascript(render @capacity) %>" );
		$('#capacity_<%=@capacity.id%>').fadeIn(1000).effect("highlight", {}, 1000);
		$(this).remove(); 
	});

	// Remove Errors
	$('#edit_capacity_errors_<%=@capacity.id %>').html("");
	$('#edit_capacity_form_<%=@capacity.id %> p.error').remove();
	$('#edit_capacity_form_<%=@capacity.id %> li').removeClass("error");
<% end %>
<% flash.discard %>