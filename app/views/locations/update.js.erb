<% if @location.errors.any? %>
	$('#edit_location_errors_<%=@location.id%>').html( "<%= escape_javascript(render 'shared/error_messages', :target => @location) %>" );
	<%= render 'shared/ajax_form_errors', :target => @location, :form_id => "edit_location_form_#{@location.id}" %>
<% else %>
	$('#edit_location_<%=@location.id%>').slideToggle(1000, function() { 
		$(this).remove(); 
	});
	$('#location_<%=@location.id%>').replaceWith( "<%= escape_javascript(render @location) %>" );
	$('#location_<%=@location.id%>').show().effect("highlight", {}, 2000);

	// Remove Errors
	$('#edit_location_errors_<%=@location.id %>').html("");
	$('#edit_location_form_<%=@location.id %> p.error').remove();
	$('#edit_location_form_<%=@location.id %> li').removeClass("error");
<% end %>
<% flash.discard %>